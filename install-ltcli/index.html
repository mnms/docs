
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Lightning DB is a DRAM / SSD optimized real-time in-memory DBMS.">
      
      
        <meta name="author" content="Lightning DB Team">
      
      
        <link rel="canonical" href="https://mnms.github.io/docs/install-ltcli/">
      
      
        <link rel="prev" href="../prerequisite/">
      
      
        <link rel="next" href="../data-ingestion-and-querying/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>Installation - Lightning DB Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-how-to-run-ltcli" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Lightning DB Docs" class="md-header__button md-logo" aria-label="Lightning DB Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lightning DB Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/mnms/docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    source repository
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Lightning DB Docs" class="md-nav__button md-logo" aria-label="Lightning DB Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Lightning DB Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mnms/docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    source repository
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" tabindex="0" aria-expanded="false">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-note/" class="md-nav__link">
        Release Notes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../awards-recognition/" class="md-nav__link">
        Awards and Recognition
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" tabindex="0" aria-expanded="true">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../prerequisite/" class="md-nav__link">
        Prerequisite
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Installation
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data-ingestion-and-querying/" class="md-nav__link">
        Data Ingestion and querying
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" tabindex="0" aria-expanded="false">
          Tutorial
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorial" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../try-with-zeppelin/" class="md-nav__link">
        Try out with Zeppelin
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" tabindex="0" aria-expanded="false">
          Command Line Interface
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Command Line Interface" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Command Line Interface
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli-version/" class="md-nav__link">
        Version
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli-conf/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli-cli/" class="md-nav__link">
        Redis3 cli (LightningDB v1.x)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli-cli2/" class="md-nav__link">
        Redis5 cli (LightningDB v2.x)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli-cluster/" class="md-nav__link">
        Cluster
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli-thriftserver/" class="md-nav__link">
        Thriftserver
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" tabindex="0" aria-expanded="false">
          Ecosystem
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Ecosystem" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Ecosystem
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kaetlyn/" class="md-nav__link">
        Data ingestion with KAFKA
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_2" tabindex="0" aria-expanded="false">
          Zeppelin
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Zeppelin" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Zeppelin
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zeppelin-example-nyctaxi/" class="md-nav__link">
        NYC TAXI Benchmark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zeppelin-example-face-data/" class="md-nav__link">
        KNN SEARCH
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" tabindex="0" aria-expanded="false">
          Build and deploy on Kubernetes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Build and deploy on Kubernetes" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Build and deploy on Kubernetes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../why-k8s/" class="md-nav__link">
        Why Kubernetes?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../build-lightningdb-on-k8s/" class="md-nav__link">
        Build LightningDB(Admin Only)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deploy-lightningdb-on-k8s/" class="md-nav__link">
        Deploy LightningDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-use-lightningdb-on-k8s/" class="md-nav__link">
        How to use LightningDB
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" tabindex="0" aria-expanded="false">
          Additional Resources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Additional Resources" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Additional Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../get-started-with-scratch/" class="md-nav__link">
        Manual Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-use-flashbase/" class="md-nav__link">
        Install with LightningDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manage-failover/" class="md-nav__link">
        Failover with LightningDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-scaleout/" class="md-nav__link">
        Scaleout with LightningDB
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="1-how-to-run-ltcli">1. How to run LTCLI<a class="headerlink" href="#1-how-to-run-ltcli" title="Permanent link">&para;</a></h1>
<p>If you try to use LTCLI for the first time after the EC2 instance was created, please update LTCLI like below.</p>
<pre><code class="language-bash">pip install ltcli --upgrade --user
</code></pre>
<p><strong>(1) Run</strong></p>
<p>To run LTCLI, ${FBPATH} should be set. If not, the following error messages will be shown.</p>
<pre><code class="language-bash">To start using LTCLI, you should set env FBPATH
ex)
export FBPATH=$HOME/.flashbase
</code></pre>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In the case of EC2 Instance, this path is set automatically.</p>
</div>
<p>Run LTCLI by typing 'ltcli'</p>
<pre><code class="language-bash">$ ltcli
</code></pre>
<p>When LTCLI starts for the first time,  you need to confirm 'base_directory'.</p>
<p>[~/tsr2]<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> is default value.</p>
<pre><code class="language-bash">Type base directory of LightningDB [~/tsr2]
~/tsr2
OK, ~/tsr2
</code></pre>
<p>In '${FBPATH}/.flashbase/config', you can modify 'base_directory'.</p>
<p>If you logs in LTCLI normally, LTCLI starts on the last visited cluster.
In the case of the first login, '-' is shown instead of cluster number.</p>
<pre><code class="language-bash">root@lightningdb:-&gt;

...
...

root@lightningdb:1&gt;
</code></pre>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In this page, '$' means that you are in Centos and '&gt;' means that you are in LTCLI.</p>
</div>
<p><strong>(2) Log messages</strong></p>
<p>Log messages of LTCLI will be saved in '$FBPATH/logs/fb-roate.log'.</p>
<p>Its max-file-size is 1GiB and <strong>rolling update</strong> will be done in case of exceeding of size limit.</p>
<h1 id="2-deploy-lightningdb">2. Deploy LightningDB<a class="headerlink" href="#2-deploy-lightningdb" title="Permanent link">&para;</a></h1>
<p>Deploy is the procedure that LightningDB is installed with the specified cluster number.</p>
<p>You could make LightningDB cluster with the following command.</p>
<pre><code class="language-bash">&gt; deploy 1
</code></pre>
<p>After deploy command, you should type the following information that provides its last used value.</p>
<ul>
<li>Installer</li>
<li>Host</li>
<li>Number of masters</li>
<li>Replicas</li>
<li>Number of SSD(disk)</li>
<li>The prefix of DB path (used for 'redis data', 'redis DB path' and 'flash DB path')</li>
</ul>
<p>Use the below option not to save the last used value.</p>
<pre><code class="language-bash">&gt; deploy --history-save=False
</code></pre>
<p><strong>(1) Select installer</strong></p>
<pre><code class="language-bash">Select installer

    [ INSTALLER LIST ]
    (1) [DOWNLOAD] lightningdb.release.master.5a6a38.bin
    (2) [LOCAL] lightningdb.release.master.dbcb9e.bin
    (3) [LOCAL] lightningdb.trial.master.dbcb9e-dirty.bin
    (4) [LOCAL] lightningdb.trial.master.dbcb9e.bin

Please enter the number, file path or url of the installer you want to use.
you can also add file in list by copy to '$FBPATH/releases/'
1
OK, lightningdb.release.master.5a6a38.bin
</code></pre>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>LOCAL means installer file under path '$FBPATH/releases/' on your local.
DOWNLOAD refers to a file that can be downloaded and up to 5 files are displayed in the latest order. To confirm the recommended Lightning DB version, use <a href="../release-note/">Release Notes</a></p>
</div>
<p>Select a number to use that file. Type DOWNLOAD will be used after downloading. The downloaded file is saved in path '$FBPATH/releases'.</p>
<pre><code class="language-bash">Select installer

    [ INSTALLER LIST ]
    (empty)

Please enter file path or url of the installer you want to use
you can also add file in list by copy to '$FBPATH/releases/'
https://flashbase.s3.ap-northeast-2.amazonaws.com/latest/lightningdb.release.master.5a6a38.bin
Downloading lightningdb.release.master.5a6a38.bin
[==================================================] 100%
OK, lightningdb.release.master.5a6a38.bin
</code></pre>
<p>If the installer list is empty like above, you can also use file path or URL. If you enter URL, download the file and use it. The downloaded file is saved in path '$FBPATH/releases'.</p>
<p><strong>(2) Type Hosts</strong></p>
<p>IP address or hostname can be used. In the case of several hosts, the list can be separated by comma(',').</p>
<pre><code class="language-bash">Please type host list separated by comma(,) [127.0.0.1]

OK, ['127.0.0.1']
</code></pre>
<p><strong>(3) Type Masters</strong></p>
<pre><code class="language-bash">How many masters would you like to create on each host? [10]

OK, 10
Please type ports separate with a comma(,) and use a hyphen(-) for range. [18100-18109]

OK, ['18100-18109']
</code></pre>
<p>Define how many master processes will be created in the cluster per server.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To create a cluster, 3 master processes should be included at least.</p>
</div>
<p><strong>(4) Type information of slave</strong></p>
<pre><code class="language-bash">How many replicas would you like to create on each master? [0]

OK, 0
</code></pre>
<p>Define how many slave processes will be created for a master process.</p>
<p><strong>(5) Type the count of SSD(disk) and the path of DB files</strong></p>
<pre><code class="language-bash">How many ssd would you like to use? [4]

OK, 4
Type prefix of db path [/nvme/data_]

OK, /nvme/data_
</code></pre>
<p>With this setting, LightningDB will use 4 disk paths('/nvme/data_01', '/nvme/data_02', '/nvme/data_03', '/nvme/data_04'). </p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In order to use this setting, the 'nvkvs' directories must be generated under all disk path and the permission setting(chmod/chown) for the directory must be configured as follows.</p>
</div>
<pre><code class="language-bash">$ pwd
/nvme/data_01
$ mkdir nvkvs
$chown ltdb nvkvs   // The current user is 'ltdb'
$chmod 755 nvkvs
$ ls -alh
drwxr-xr-x 10 ltdb  ltdb  4.0K  4월 27 14:34 .
drwxr-xr-x 33 ltdb  ltdb  4.0K  2월  4 10:19 ..
drwxrwxr-x  3 ltdb  ltdb  4.0K  6월  5 18:36 nvkvs  // The current user is 'ltdb'
...
</code></pre>
<p><strong>(6) Check all settings finally</strong></p>
<p>Finally, all settings will be shown and confirmation will be requested like below.</p>
<pre><code class="language-bash">+--------------+---------------------------------------+
| NAME         | VALUE                                 |
+--------------+---------------------------------------+
| installer    | lightningdb.release.master.5a6a38.bin |
| hosts        | 127.0.0.1                             |
| master ports | 18100-18109                           |
| ssd count    | 4                                     |
| db path      | /nvme/data_                           |
+--------------+---------------------------------------+
Do you want to proceed with the deploy accroding to the above information? (y/n)
y
</code></pre>
<p><strong>(7) Deploy cluster</strong></p>
<p>After deploying is completed, the following messages are shown and LTCLI of the cluster is activated.</p>
<pre><code class="language-bash">Check status of hosts...
+-----------+--------+
| HOST      | STATUS |
+-----------+--------+
| 127.0.0.1 | OK     |
+-----------+--------+
OK
Checking for cluster exist...
+-----------+--------+
| HOST      | STATUS |
+-----------+--------+
| 127.0.0.1 | CLEAN  |
+-----------+--------+
OK
Transfer installer and execute...
 - 127.0.0.1
Sync conf...
Complete to deploy cluster 1.
Cluster '1' selected.
</code></pre>
<p>When an error occurs during deploying, error messages will be shown like below.</p>
<p><strong>(8) Errors</strong></p>
<p><strong>Host connection error</strong></p>
<pre><code class="language-bash">Check status of hosts...
+-------+------------------+
| HOST  | STATUS           |
+-------+------------------+
| nodeA | OK               |
| nodeB | SSH ERROR        |
| nodeC | UNKNOWN HOST     |
| nodeD | CONNECTION ERROR |
+-------+------------------+
There are unavailable host.
</code></pre>
<ul>
<li>SSH ERROR <ul>
<li>SSH access error. Please check SSH KEY exchange or the status of SSH client/server.</li>
</ul>
</li>
<li>UNKNOWN HOST<ul>
<li>Can not get IP address with the hostname. Please check if the hostname is right.</li>
</ul>
</li>
<li>CONNECTION ERROR<ul>
<li>Please check the status of the host(server) or outbound/inbound of the server.</li>
</ul>
</li>
</ul>
<p><strong>Cluster already exist</strong></p>
<pre><code class="language-bash">Checking for cluster exist...
+-------+---------------+
| HOST  | STATUS        |
+-------+---------------+
| nodeA | CLEAN         |
| nodeB | CLEAN         |
| nodeC | CLUSTER EXIST |
| nodeD | CLUSTER EXIST |
+-------+---------------+
Cluster information exist on some hosts.
</code></pre>
<ul>
<li>CLUSTER EXIST<ul>
<li>LightningDB is already deployed in the cluster of the host.</li>
</ul>
</li>
</ul>
<p><strong>Not include localhost</strong></p>
<pre><code class="language-bash"> Check status of hosts...
  +-------+------------------+
  | HOST  | STATUS           |
  +-------+------------------+
  | nodeB | OK               |
  | nodeC | OK               |
  | nodeD | OK               |
  +-------+------------------+
  Must include localhost.
</code></pre>
<p>If the localhost(127.0.0.1) is not included in host information, this error occurs. Please add the localhost in the host list in this case.</p>
<h1 id="3-start-lightningdb">3. Start LightningDB<a class="headerlink" href="#3-start-lightningdb" title="Permanent link">&para;</a></h1>
<p>Create a cluster of LightningDB using 'cluster create' command.</p>
<pre><code class="language-bash">ec2-user@lightningdb:1&gt; cluster create
Check status of hosts...
OK
Backup redis master log in each MASTER hosts...
 - 127.0.0.1
create redis data directory in each MASTER hosts
 - 127.0.0.1
sync conf
+-----------+--------+
| HOST      | STATUS |
+-----------+--------+
| 127.0.0.1 | OK     |
+-----------+--------+
OK
Starting master nodes : 127.0.0.1 : 18100|18101|18102|18103|18104|18105|18106|18107|18108|18109 ...
Wait until all redis process up...
cur: 10 / total: 10
Complete all redis process up
&gt;&gt;&gt; Creating cluster
+-----------+-------+--------+
| HOST      | PORT  | TYPE   |
+-----------+-------+--------+
| 127.0.0.1 | 18100 | MASTER |
| 127.0.0.1 | 18101 | MASTER |
| 127.0.0.1 | 18102 | MASTER |
| 127.0.0.1 | 18103 | MASTER |
| 127.0.0.1 | 18104 | MASTER |
| 127.0.0.1 | 18105 | MASTER |
| 127.0.0.1 | 18106 | MASTER |
| 127.0.0.1 | 18107 | MASTER |
| 127.0.0.1 | 18108 | MASTER |
| 127.0.0.1 | 18109 | MASTER |
+-----------+-------+--------+
replicas: 0

Do you want to proceed with the create according to the above information? (y/n)
y
Cluster meet...
 - 127.0.0.1:18107
 - 127.0.0.1:18106
 - 127.0.0.1:18101
 - 127.0.0.1:18100
 - 127.0.0.1:18103
 - 127.0.0.1:18109
 - 127.0.0.1:18102
 - 127.0.0.1:18108
 - 127.0.0.1:18105
 - 127.0.0.1:18104
Adding slots...
 - 127.0.0.1:18107, 1642
 - 127.0.0.1:18106, 1638
 - 127.0.0.1:18101, 1638
 - 127.0.0.1:18100, 1638
 - 127.0.0.1:18103, 1638
 - 127.0.0.1:18109, 1638
 - 127.0.0.1:18102, 1638
 - 127.0.0.1:18108, 1638
 - 127.0.0.1:18105, 1638
 - 127.0.0.1:18104, 1638
Check cluster state and asign slot...
Ok
create cluster complete.
ec2-user@lightningdb:1&gt; cli ping --all
alive redis 10/10

ec2-user@lightningdb:1&gt;
</code></pre>
<p>From now, you can try ingestion and query in LightningDB with <a href="../try-with-zeppelin/">Zeppelin</a>. And for further information about commands of LTCLI, please use <a href="../command-line-interface/">Command Line</a>.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>If you type 'enter' without any text, the default value is applied. In some cases, the default value will not be provided.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      All right reserved, <a href='https://lightningdb.io'>Lightning DB Team</a>.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": 0.1}</script>
    
    
      <script src="../assets/javascripts/bundle.51d95adb.min.js"></script>
      
        <script src="../search/main.js"></script>
      
    
  </body>
</html>